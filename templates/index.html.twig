<!DOCTYPE html>
<html>
    <head></head>
    <body>

        <div style="width:75%;">
            <canvas id="canvas"></canvas>
        </div>

        <h3>{{ totalCommits }}</h3>
        since {{ since }}
        
        <script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>
        <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
        <script>
            $(function () {
                var config = {
                    type: 'line',
                    data: {
                        labels: [
                            '00h', '01h', '02h', '03h', '04h', '05h', '06h', '07h', '08h', '09h', '10h', '11h',
                            '12h', '13h', '14h', '15h', '16h', '17h', '18h', '19h', '20h', '21h', '22h', '23h',
                        ],
                        datasets: [{
                            label: 'Commit Graph',
                            backgroundColor: 'rgb(255, 99, 132)',
                            borderColor: 'rgb(255, 99, 132)',
                            pointRadius: 0,
                            pointHoverRadius: 0,
                            data: [
                                {% for commit in commits %}
                                    {{ commit }},
                                {% endfor %}
                            ],
                            fill: false,
                        }],
                    },
                    options: {
                        responsive: true,
                        tooltips: {
                            enabled: false,
                            mode: 'index',
                            intersect: false,
                        },
                        hover: {
                            mode: 'nearest',
                            intersect: false
                        },
                        scales: {
                            xAxes: [{
                                display: true,
                                scaleLabel: {
                                    display: false,
                                    labelString: 'Hours'
                                }
                            }],
                            yAxes: [{
                                display: false,
                                scaleLabel: {
                                    display: false,
                                    labelString: 'Commits'
                                }
                            }]
                        }
                    }
                };
                var ctx = document.getElementById('canvas').getContext('2d');
                window.myLine = new Chart(ctx, config);
            });
        </script>
    </body>
</html>
